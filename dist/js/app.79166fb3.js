(function(t){function e(e){for(var o,i,n=e[0],c=e[1],u=e[2],p=0,d=[];p<n.length;p++)i=n[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,n=1;n<a.length;n++){var c=a[n];0!==r[c]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},r={app:0},s=[];function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/apps/auditoria-aeropuerto/app-aeropuerto/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var u=0;u<n.length;u++)e(n[u]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],i=a("2877"),n={},c=Object(i["a"])(n,r,s,!1,null,null,null),u=c.exports,l=a("9483");Object(l["a"])("".concat("/apps/auditoria-aeropuerto/app-aeropuerto/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh."),window.location.reload(!0)},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var p=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("b-navbar",{staticStyle:{"background-color":"#0c3757"},attrs:{sticky:"",toggleable:"lg",type:"dark"}},[a("b-navbar-brand",{attrs:{href:"#"}},[a("b-row",{attrs:{"align-v":"center"}},[a("b-col",{attrs:{cols:"2"}},[a("font-awesome-icon",{attrs:{icon:"user"}})],1),a("b-col",{attrs:{cols:"9"}},[a("h6",{staticClass:"mb-0"},[t._v(t._s(t.userName))]),t.usuario?a("h6",{staticClass:"mb-0",staticStyle:{color:"#f2e006"}},[t._v(t._s(this.usuario.area))]):t._e()])],1)],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item",{on:{click:function(e){t.show=!t.show}}},[a("font-awesome-icon",{attrs:{size:"lg",icon:"bars"}})],1)],1)],1),a("b-sidebar",{attrs:{id:"sidebar-backdrop",backdrop:"",shadow:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"px-3 py-2"},[a("b-row",[a("b-col",[a("span",{staticClass:"font-weight-lighter"},[t._v("Versión "+t._s(t.version))])])],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{attrs:{cols:"4"}},[a("b-img",{attrs:{src:"./img/user.png",fluid:"",alt:"Responsive image"}})],1),a("b-col",{staticClass:"text-center mt-3",attrs:{cols:"12"}},[a("h5",[t._v(t._s(t.userName))])])],1)],1),a("nav",{staticClass:"mb-3 mt-4"},[a("b-nav",{attrs:{vertical:""}},[t._l(t.menu,(function(e,o){return a("b-nav-item",{key:o,attrs:{to:{name:e.url,params:{id:e.tipo_reporte},meta:{label:e.name}}}},[t._v(t._s(e.nombre))])})),a("b-nav-item",{on:{click:t.salir}},[a("span",{staticClass:"text-danger"},[t._v("Salir")])])],2)],1)]),a("b-modal",{attrs:{title:"Mi Cuenta","hide-footer":""},model:{value:t.modalCuenta,callback:function(e){t.modalCuenta=e},expression:"modalCuenta"}},[a("b-row",[a("b-col",[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"Cambiar Contraseña",active:""}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.actualizarClave()}}},[a("b-form-group",{attrs:{"label-class":"font-weight-bold pt-0",label:"Contraseña Actual"}},[a("b-input-group",{scopedSlots:t._u([{key:"append",fn:function(){return[a("b-input-group-text",{on:{click:function(e){t.pass.show_pass=!t.pass.show_pass}}},[a("font-awesome-icon",{attrs:{icon:t.pass.show_pass?"eye-slash":"eye"}})],1)]},proxy:!0}])},[a("b-form-input",{attrs:{type:t.pass.show_pass?"text":"password",autocomplete:"off",required:""},model:{value:t.pass.actual,callback:function(e){t.$set(t.pass,"actual",e)},expression:"pass.actual"}})],1)],1),a("b-form-group",{attrs:{"label-class":"font-weight-bold pt-0",label:"Nueva Contraseña"}},[a("b-input-group",{scopedSlots:t._u([{key:"append",fn:function(){return[a("b-input-group-text",{on:{click:function(e){t.pass.show_nuevo_pass=!t.pass.show_nuevo_pass}}},[a("font-awesome-icon",{attrs:{icon:t.pass.show_nuevo_pass?"eye-slash":"eye"}})],1)]},proxy:!0}])},[a("b-form-input",{attrs:{autocomplete:"off",type:t.pass.show_nuevo_pass?"text":"password",required:""},model:{value:t.pass.nueva,callback:function(e){t.$set(t.pass,"nueva",e)},expression:"pass.nueva"}})],1)],1),a("b-form-group",{attrs:{"label-class":"font-weight-bold pt-0",label:"Repite Nueva Contraseña"}},[a("b-input-group",{scopedSlots:t._u([{key:"append",fn:function(){return[a("b-input-group-text",{on:{click:function(e){t.pass.show_repite_nuevo_pass=!t.pass.show_repite_nuevo_pass}}},[a("font-awesome-icon",{attrs:{icon:t.pass.show_repite_nuevo_pass?"eye-slash":"eye"}})],1)]},proxy:!0}])},[a("b-form-input",{attrs:{autocomplete:"off",type:t.pass.show_repite_nuevo_pass?"text":"password",required:""},model:{value:t.pass.repite_nueva,callback:function(e){t.$set(t.pass,"repite_nueva",e)},expression:"pass.repite_nueva"}})],1)],1),a("b-row",{staticClass:"text-center"},[a("b-col",[a("b-button",{attrs:{size:"lg",type:"submit",variant:"success"}},[t._v(" Actualizar "),a("font-awesome-icon",{attrs:{icon:"sync"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),a("router-view")],1)},m=[],f=a("3d20"),b=a.n(f),h={name:"Home",data:function(){return{menu:[],usuario:null,show:!1,modalCuenta:!1,pass:{actual:null,nueva:null,repite_nueva:null,show_pass:!1,show_nuevo_pass:!1,show_repite_nuevo_pass:!1}}},methods:{actualizarClave:function(){var t=this;if(this.pass_coinciden){var e=JSON.parse(localStorage.getItem("usuario-auditoria-transporte")),a={id_usuario:e.id,pass:this.pass.actual,nuevo_pass:this.pass.nueva};this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//actualizar_clave.php",a).then((function(e){200!=e.data.code?b.a.fire({icon:"error",title:"Oops...",text:e.data.message}):b.a.fire("Excelente!",e.data.message,"success").then((function(){localStorage.removeItem("usuario-auditoria-transporte"),t.$router.push({name:"login"})}))}))}else b.a.fire({icon:"error",title:"Oops...",text:"La nueva contraseña debe coincidir!"});console.log("actualizar")},obtener_menu:function(){var t=this,e=JSON.parse(localStorage.getItem("usuario-auditoria-transporte"));this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//obtener_menu.php",e).then((function(e){t.menu=e.data})),this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//obtener_datos_usuario.php",e).then((function(e){t.usuario=e.data}))},salir:function(){var t=this,e=JSON.parse(localStorage.getItem("usuario-auditoria-transporte"));this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//salir.php",e).then((function(e){e.data&&(localStorage.removeItem("usuario-monitoreo-fase2"),t.$router.push({name:"login"}))}))},datos_usuario:function(){}},computed:{userName:function(){var t=JSON.parse(localStorage.getItem("usuario-auditoria-transporte"));return t.nombre.toUpperCase()+" "+t.apellido.toUpperCase()},version:function(){return"1.0"},pass_coinciden:function(){return this.pass.nueva==this.pass.repite_nueva}},mounted:function(){this.obtener_menu()}},g=h,v=Object(i["a"])(g,d,m,!1,null,null,null),_=v.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",{attrs:{fluid:""}},[a("b-row",{staticStyle:{height:"30vh"},attrs:{"align-h":"center","align-v":"center"}},[a("b-col",{staticClass:"text-center",attrs:{cols:"6",lg:"2",md:"3"}},[a("b-img",{attrs:{center:"",width:"100",src:"./img/logo_das.jpeg",fluid:"",alt:"Responsive image"}})],1),a("b-col",{staticClass:"text-center",attrs:{cols:"6",lg:"2",md:"3"}},[a("b-img",{attrs:{center:"",width:"150",src:"./img/logo.jpg",fluid:"",alt:"Responsive image"}})],1)],1),a("b-row",{staticStyle:{height:"70vh","background-color":"#0c3757"}},[a("b-col",{attrs:{cols:"12"}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("h5",{staticClass:"text-center text-white mt-4"},[t._v("MINISTERIO DE SALUD PÚBLICA Y ASISTENCIA SOCIAL")]),a("b-row",{staticClass:"pt-4 text-center",attrs:{"align-v":"center"}},[a("b-col",{attrs:{cols:"12",sm:"12",md:"4","offset-md":"4"}},[a("b-form-group",{staticStyle:{color:"white"},attrs:{label:"Usuario","label-size":"lg"}},[a("b-form-input",{staticStyle:{"text-align":"center"},attrs:{type:"text",autocomplete:"off",size:"lg",required:""},model:{value:t.usuario.usuario,callback:function(e){t.$set(t.usuario,"usuario",e)},expression:"usuario.usuario"}})],1)],1),t.loginError?a("b-col",{attrs:{cols:"12"}},[a("h4",{staticStyle:{color:"yellow"}},[t._v("Usuario Inválido !!")])]):t._e(),a("b-col",{staticClass:"text-center pt-4",attrs:{cols:"12"}},[a("b-button",{attrs:{variant:"success",type:"submit",size:"lg"}},[t._v("ACEPTAR")])],1)],1)],1),a("b-row",{staticClass:"text-center",staticStyle:{"background-color":"#0c3757"},attrs:{"align-v":"end"}},[a("b-col",{attrs:{cols:"12"}}),a("b-col",{staticClass:"pt-4 text-white text-center",attrs:{cols:"12"}},[a("br"),t._v(" ¿No tiene cuenta? "),a("b-button",{attrs:{to:{name:"registro"},variant:"link"}},[a("h4",{staticStyle:{color:"yellow"}},[t._v("Registrarse")])])],1)],1)],1)],1)],1)],1)},x=[],y={data:function(){return{usuario:{},loginError:!1}},methods:{login:function(){var t=this;this.loginError=!1,this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//login.php",this.usuario).then((function(e){if(e.data){var a={id:e.data.id};t.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//cuenta_verificada.php",a).then((function(e){t.credentials=e.data,e.data.verificada?(localStorage.setItem("usuario-auditoria-transporte",JSON.stringify(t.credentials)),t.$router.push({name:"menu"})):b.a.fire({title:"Activación de cuenta",text:"Su cuenta aún no ha sido activada, ¿desea reenviar el correo para activación?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, reenviar!",cancelButtonText:"Cancelar",showLoaderOnConfirm:!0,preConfirm:function(){var a={id:e.data.id};return t.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//reenviar_correo.php",a).then((function(t){b.a.fire("Excelente!","<p>Se ha enviado un correo electrónico a la dirección registrada, por favor revise su buzón y siga las instrucciones indicadas para activar su cuenta.</p>","success")}))},allowOutsideClick:function(){return!b.a.isLoading()}})}))}else t.loginError=!0}))}}},C=y,k=Object(i["a"])(C,w,x,!1,null,null,null),S=k.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",{attrs:{fluid:""}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.registrarse()}}},[a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{attrs:{lg:"6",sm:"12",md:"8"}},[a("b-row",{staticClass:"pt-4 pb-4"},[a("b-col",{staticClass:"mb-4",attrs:{cols:"12"}},[a("b-row",{staticClass:"text-center"},[a("b-col",{attrs:{cols:"1"}},[a("h4",{on:{click:function(e){return t.back()}}},[a("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1)]),a("b-col",[a("h4",[t._v("Registro")])])],1)],1),a("b-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("b-form-group",{attrs:{"label-class":"font-weight-bold pt-0",label:"Nombres"}},[a("b-form-input",{attrs:{autocomplete:"off",required:""},model:{value:t.usuario.nombre,callback:function(e){t.$set(t.usuario,"nombre",e)},expression:"usuario.nombre"}})],1)],1),a("b-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("b-form-group",{attrs:{"label-class":"font-weight-bold pt-0",label:"Apellidos"}},[a("b-form-input",{attrs:{autocomplete:"off",required:""},model:{value:t.usuario.apellido,callback:function(e){t.$set(t.usuario,"apellido",e)},expression:"usuario.apellido"}})],1)],1),a("b-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("b-form-group",{attrs:{"label-class":"font-weight-bold pt-0",label:"Teléfono"}},[a("b-form-input",{attrs:{type:"number",autocomplete:"off",required:""},model:{value:t.usuario.telefono,callback:function(e){t.$set(t.usuario,"telefono",e)},expression:"usuario.telefono"}})],1)],1),a("b-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("b-form-group",{attrs:{"label-class":"font-weight-bold pt-0",label:"Correo Electronico"}},[a("b-form-input",{attrs:{type:"email",autocomplete:"off",required:""},model:{value:t.usuario.email,callback:function(e){t.$set(t.usuario,"email",e)},expression:"usuario.email"}})],1)],1),a("b-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("b-form-group",{attrs:{"label-class":"font-weight-bold pt-0",label:"Área"}},[a("b-form-select",{attrs:{options:t.areas,"text-field":"nombre","value-field":"id",required:""},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Seleccione una opción --")])]},proxy:!0}]),model:{value:t.usuario.id_area,callback:function(e){t.$set(t.usuario,"id_area",e)},expression:"usuario.id_area"}})],1)],1),a("b-col",{staticClass:"mt-4 text-center",attrs:{cols:"12"}},[a("b-button",{attrs:{disabled:t.isSending,type:"submit",variant:"success",size:"lg"}},[t._v(t._s(t.isSending?"Registrando..":"Registrarse")+" "),a("font-awesome-icon",{attrs:{icon:"sign-in-alt"}})],1)],1)],1)],1)],1)],1)],1)],1)},R=[],E={data:function(){return{usuario:{nombre:null,apellido:null,telefono:null,email:null,id_area:null},dependencias:[],etapas:[],turnos:[],roles:[],simulacros:[],isSending:!1,areas:[]}},methods:{registrarse:function(){var t=this;this.same_password?(this.isSending=!0,this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//registro.php",this.usuario).then((function(e){console.log(e.data),200!=e.data.status?b.a.fire({icon:"error",title:"Error...",html:e.data.message}):b.a.fire("Registro exitoso!",e.data.message,"success").then((function(){t.$router.push("/")})),t.isSending=!1}))):b.a.fire({icon:"error",title:"Error...",text:"Ambas contraseñas deben de coincidir!"})},back:function(){this.$router.push("/")},obtener_datos_registro:function(){var t=this;this.axios.get("https://udicat.muniguate.com/apis/api-aeropuerto//datos_registro.php").then((function(e){t.areas=e.data.areas}))}},computed:{same_password:function(){return this.usuario.password==this.usuario.re_password}},watch:{},mounted:function(){this.obtener_datos_registro()}},M=E,$=Object(i["a"])(M,O,R,!1,null,null,null),j=$.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-overlay",{attrs:{show:t.checking,rounded:"sm"}},[a("b-container",{staticStyle:{"background-image":"url('./img/fondoLogin.png')","background-size":"cover"},attrs:{fluid:""}},[a("b-row",{staticStyle:{height:"35vh"},attrs:{"align-v":"center"}},[a("b-col",{staticClass:"text-center",attrs:{cols:"12"}})],1),a("b-row",{staticStyle:{height:"65vh"}},[t.message?a("b-col",{staticClass:"pt-4 text-center",attrs:{cols:"12"}},[a("div",{domProps:{innerHTML:t._s(t.message)}}),a("b-button",{staticClass:"mt-3",attrs:{to:{name:"login"},size:"lg",variant:"success"}},[t._v("Iniciar Sesión")])],1):t._e()],1)],1)],1)],1)},A=[],z={data:function(){return{checking:!1,activada:!0,message:null}},methods:{activar_cuenta:function(){var t=this;this.checking=!0;var e={id:this.$route.params.id};this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//activar_cuenta.php",e).then((function(e){t.message=e.data,t.checking=!1}))}},mounted:function(){this.activar_cuenta()}},I=z,q=Object(i["a"])(I,N,A,!1,null,null,null),P=q.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},J=[],L={},T=L,B=Object(i["a"])(T,D,J,!1,null,null,null),U=B.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",[a("b-row",[a("b-col",{attrs:{cols:"7"}},[a("b-input-group",{staticClass:"mt-3",scopedSlots:t._u([{key:"append",fn:function(){return[a("b-input-group-text",[a("font-awesome-icon",{attrs:{icon:"search"}})],1)]},proxy:!0}])},[a("b-form-input",{attrs:{autocomplete:"off"},model:{value:t.busqueda,callback:function(e){t.busqueda=e},expression:"busqueda"}})],1)],1),a("b-col",{staticClass:"text-right pt-3",attrs:{cols:"5"}},[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.mostrarModal()}}},[t._v("Agregar "),a("font-awesome-icon",{attrs:{icon:"plus"}})],1)],1)],1),t.isAdmin?a("b-row",{staticClass:"mt-3",attrs:{"align-v":"center"}},[a("b-col",{staticClass:"text-left",attrs:{cols:"12"}},[a("a",{staticClass:"text-success",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.generarReporte()}}},[t._v(" Generar Excel "),a("font-awesome-icon",{attrs:{icon:"file-excel"}})],1)])],1):t._e(),a("b-row",[a("b-col",{staticClass:"pt-3",attrs:{cols:"12"}},[a("b-table",{attrs:{responsive:"",filter:t.busqueda,"current-page":t.currentPage,"per-page":t.perPage,"show-empty":"","empty-text":"No se han registrado reportes","empty-filtered-text":"No se han encontrado registros que coincidan con su criterio de búsqueda",items:t.reportes,fields:t.fields},scopedSlots:t._u([{key:"cell(action)",fn:function(e){return[a("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(a){return t.showEdit(e.item)}}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1)]}}])})],1)],1),a("b-row",{attrs:{"align-v":"center"}},[t.rows>0?a("b-col",{staticClass:"pt-2 text-center",attrs:{cols:"12"}},[a("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage,align:"center"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1):t._e()],1),a("b-modal",{attrs:{"hide-footer":"",scrollable:"",title:t.titleModal},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[1==t.usuario.id_rol||3==t.usuario.id_rol?a("h5",[t._v("Datos del Bus")]):t._e(),2==t.usuario.id_rol?a("h5",[t._v("Datos de la plataforma")]):t._e()])],1),a("b-row",[a("b-col",[a("h3",{staticClass:"mb-4"},[t._v("Aspectos a Evaluar")]),t._l(t.categorias,(function(e,o){return a("b-row",{key:o,staticClass:"mb-3"},[a("b-col",[a("b-alert",{attrs:{show:"",variant:"secondary"}},[a("h5",[t._v(t._s(e.nombre))])]),a("hr"),t._l(e.actividades,(function(e,o){return a("b-row",{key:o,staticClass:"mb-2"},[a("b-col",{attrs:{cols:"12"}},[a("b-button",{attrs:{pressed:e.check,block:"",variant:e.check?"success":"outline-secondary"},on:{click:function(t){e.check=!e.check}}},[t._v(" "+t._s(e.nombre)+" ")])],1),a("b-col",{attrs:{cols:"12"}},[a("b-collapse",{staticClass:"mt-2",model:{value:e.show_detalle,callback:function(a){t.$set(e,"show_detalle",a)},expression:"actividad.show_detalle"}},[a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{attrs:{label:"Cantidad","label-class":"font-weight-bold pt-0"}},[a("b-form-input",{attrs:{autocomplete:"off"},model:{value:e.cantidad_reportada,callback:function(a){t.$set(e,"cantidad_reportada",a)},expression:"actividad.cantidad_reportada"}})],1)],1)],1)],1)],1)],1)}))],2)],1)})),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Observaciones","label-class":"font-weight-bold pt-0"}},[a("b-form-textarea",{attrs:{autocomplete:"off",rows:"3"},model:{value:t.reporte.observaciones,callback:function(e){t.$set(t.reporte,"observaciones",e)},expression:"reporte.observaciones"}})],1)],1)],1),a("b-row",{staticClass:"text-center"},[a("b-col",[a("b-button",{staticClass:"mr-2",attrs:{variant:"secondary"},on:{click:function(e){t.showModal=!1}}},[t._v(" CANCELAR ")]),a("b-button",{attrs:{variant:"success"},on:{click:function(e){t.editMode?t.editarReporte():t.registrarReporte()}}},[t._v(" GUARDAR ")])],1)],1)],2)],1)],1)],1)],1)},Z=[],H=(a("4160"),a("159b"),{components:{},data:function(){return{busqueda:null,reportes:[],fields:[],currentPage:1,perPage:5,rows:null,showModal:!1,titleModal:null,tipos:[],editMode:!1,idReporte:null,modalExcel:!1,zonas_region:[],options:{format:"DD/MM/YYYY",useCurrent:!1,locale:"es"},tipos_ruta:[{id:"L",nombre:"Ruta Larga"},{id:"C",nombre:"Ruta Corta"}],tipo_ruta:null,reporte:{registrado_por:null,no_placa:null,id_com_transporte:null,no_bahia_desabordaje:null,no_bahia_abordaje:null,unidad_transmetro:null,observaciones:null,tipo_ruta:null},isAdmin:!1,reporteZona:[],tituloReporte:[],processReporte:!1,tipos_reporte:[{value:"R",text:"Resumen"},{value:"D",text:"Detalle"}],opciones:[],categorias:[],usuario:{},com_transporte:[]}},methods:{mostrarModal:function(){var t=this;this.titleModal="Crear Reporte";var e=JSON.parse(localStorage.getItem("usuario-auditoria-transporte")),a={id_usuario:e.id};this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//obtener_datos_usuario.php",e).then((function(e){t.usuario=e.data})),this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//obtener_reporte.php",a).then((function(e){console.log(e.data),t.categorias=e.data.categorias,t.editMode=!1,t.showModal=!0,t.reporte={registrado_por:null,no_placa:null,id_com_transporte:null,no_bahia_desabordaje:null,no_bahia_abordaje:null,unidad_transmetro:null,observaciones:null},t.tipo_ruta=null}))},showEdit:function(t){var e=this;console.log(t);var a=JSON.parse(localStorage.getItem("usuario-auditoria-transporte"));this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//obtener_datos_usuario.php",a).then((function(t){e.usuario=t.data}));var o={id_ruta:t.id_com_transporte};this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//detalle_com_transporte.php",o).then((function(t){e.tipo_ruta=t.data.tipo_ruta})),this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//detalle_reporte.php",t).then((function(a){e.reporte=a.data.reporte,e.categorias=a.data.categorias,e.idReporte=a.data.id,e.titleModal="Editar Reporte "+t.id,e.showModal=!0,e.editMode=!0}))},registrarReporte:function(){var t=this,e=[];this.categorias.forEach((function(t){t.actividades.forEach((function(t){e.push(t)}))})),e.length<=0?b.a.fire({icon:"error",title:"Oops...",text:"Debe reporte al menos una actividad!"}):(this.reporte.registrado_por=this.usuario.id,this.reporte.actividades=e,this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//registrar_reporte.php",this.reporte).then((function(e){b.a.fire("Excelente!","El reporte ha sigo registrado exitosamente!","success").then((function(){t.showModal=!1,t.obtener_reportes()})),console.log(e.data)})))},obtener_reportes:function(){var t=this,e=JSON.parse(localStorage.getItem("usuario-auditoria-transporte")),a={id:e.id,tipo:this.$route.params.id};this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//obtener_reportes.php",a).then((function(e){t.reportes=e.data.items,t.fields=e.data.fields,t.rows=t.reportes.length,t.isAdmin=e.data.admin}))},editarReporte:function(){var t=this,e=[];this.categorias.forEach((function(t){t.actividades.forEach((function(t){e.push(t)}))})),e.length<=0?b.a.fire({icon:"error",title:"Oops...",text:"Debe reporte al menos una actividad!"}):(this.reporte.actividades=e,this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//actualizar_reporte.php",this.reporte).then((function(e){b.a.fire("Excelente!","El reporte ha sigo actualizado exitosamente!","success").then((function(){t.showModal=!1,t.obtener_reportes()}))})))},generarReporte:function(){var t=this;this.reporte={tipo:null,de:null,hasta:null,zona:null},this.reporteZona=[];var e=JSON.parse(localStorage.getItem("usuario-auditoria-transporte"));this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//procesar_excel.php",e).then((function(e){t.zonas_region=e.data,t.modalExcel=!0}))},procesarReporte:function(){var t=this;this.reporteZona=[],this.processReporte=!0,this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//generar_reporte.php",this.reporte).then((function(e){t.reporteZona=e.data,t.tituloReporte[0]="Reporte de Zona "+t.reporte.zona,t.tituloReporte[1]="De "+t.reporte.de+" Hasta "+t.reporte.hasta,t.tituloReporte[2]="",t.processReporte=!1}))}},watch:{"$route.params.id":function(t){this.obtener_reportes()},tipo_ruta:function(t){var e=this;if(t){var a=JSON.parse(localStorage.getItem("usuario-auditoria-transporte")),o={tipo_ruta:this.tipo_ruta,id_usuario:a.id};this.axios.post("https://udicat.muniguate.com/apis/api-aeropuerto//obtener_com_transporte.php",o).then((function(t){e.com_transporte=t.data}))}},"reporte.no_placa":function(t){t&&(this.reporte.no_placa=t.toUpperCase())}},mounted:function(){this.obtener_reportes()}}),F=H,G=Object(i["a"])(F,Y,Z,!1,null,null,null),V=G.exports;o["default"].use(p["a"]);var K=[{path:"/",name:"login",component:S},{path:"/registro",name:"registro",component:j},{path:"/activar_cuenta/:id",name:"activar_cuenta",component:P},{path:"/home",name:"home",component:_,children:[{path:"/home/menu/",name:"menu",component:U},{path:"/home/reportes",name:"reportes",component:V,meta:{label:"Reportes"}}]}],Q=new p["a"]({routes:K}),W=Q,X=a("5f5b"),tt=(a("f9e3"),a("2dd8"),a("bc3a")),et=a.n(tt),at=a("a7fe"),ot=a.n(at),rt=a("ecee"),st=a("c074"),it=a("ad3d"),nt=a("4a7a"),ct=a.n(nt);a("6dfc");o["default"].use(X["a"]),o["default"].use(ot.a,et.a),rt["c"].add(st["n"],st["j"],st["l"],st["d"],st["q"],st["b"],st["k"],st["a"],st["m"],st["g"],st["h"],st["f"],st["p"],st["i"],st["e"],st["o"],st["c"]),o["default"].component("font-awesome-icon",it["a"]),o["default"].component("v-select",ct.a),o["default"].config.productionTip=!1,new o["default"]({router:W,render:function(t){return t(u)}}).$mount("#app")}});
//# sourceMappingURL=app.79166fb3.js.map