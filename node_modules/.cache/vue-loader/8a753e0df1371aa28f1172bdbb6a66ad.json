{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/apps/app-aeropuerto/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/apps/app-aeropuerto/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/apps/app-aeropuerto/src/views/Login.vue","mtime":1600437975186},{"path":"/Applications/XAMPP/xamppfiles/htdocs/apps/app-aeropuerto/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/apps/app-aeropuerto/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/apps/app-aeropuerto/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgogICAgaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInCgogICAgZXhwb3J0IGRlZmF1bHQgewogICAgICAgIGRhdGEoKXsKICAgICAgICAgICAgcmV0dXJuewogICAgICAgICAgICAgICAgdXN1YXJpbzoge30sCiAgICAgICAgICAgICAgICBsb2dpbkVycm9yOiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBtZXRob2RzOiB7CiAgICAgICAgICAgIGxvZ2luKCl7CgogICAgICAgICAgICAgICAgdGhpcy5sb2dpbkVycm9yID0gZmFsc2UKCiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMICsgJy9sb2dpbi5waHAnLCB0aGlzLnVzdWFyaW8pCgkJCQkudGhlbigocmVzcG9uc2UpID0+IHsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5kYXRhKSB7CgkJCQkJCQoJCQkJCQl0aGlzLmxvZ2luRXJyb3IgPSB0cnVlCgogICAgICAgICAgICAgICAgICAgIH1lbHNlewoKCQkJCQkJLy8gU2kgZWwgdXN1YXJpbyBlcyBjb3JyZWN0byB2YWxpZGFyIHNpIHlhIGVzdGEgYWN0aXZhIGxhIGN1ZW50YQoKCQkJCQkJbGV0IGRhdGEgPSB7CgkJCQkJCQlpZDogcmVzcG9uc2UuZGF0YS5pZAoJCQkJCQl9CgoJCQkJCQl0aGlzLmF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMICsgJy9jdWVudGFfdmVyaWZpY2FkYS5waHAnLCBkYXRhKQoJCQkJCQkudGhlbigocmVzcG9uc2UpID0+IHsKCgkJCQkJCQl0aGlzLmNyZWRlbnRpYWxzID0gcmVzcG9uc2UuZGF0YQoKCQkJCQkJCWlmIChyZXNwb25zZS5kYXRhLnZlcmlmaWNhZGEpIHsKCgkJCQkJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzdWFyaW8tYXVkaXRvcmlhLXRyYW5zcG9ydGUnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmNyZWRlbnRpYWxzKSkKCgkJCQkJCQkJdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnbWVudScgfSkKCgkJCQkJCQl9ZWxzZXsKCgkJCQkJCQkJU3dhbC5maXJlKHsKCQkJCQkJCQkJdGl0bGU6ICdBY3RpdmFjacOzbiBkZSBjdWVudGEnLAoJCQkJCQkJCQl0ZXh0OiAiU3UgY3VlbnRhIGHDum4gbm8gaGEgc2lkbyBhY3RpdmFkYSwgwr9kZXNlYSByZWVudmlhciBlbCBjb3JyZW8gcGFyYSBhY3RpdmFjacOzbj8iLAoJCQkJCQkJCQlpY29uOiAnd2FybmluZycsCgkJCQkJCQkJCXNob3dDYW5jZWxCdXR0b246IHRydWUsCgkJCQkJCQkJCWNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLAoJCQkJCQkJCQljYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAoJCQkJCQkJCQljb25maXJtQnV0dG9uVGV4dDogJ1NpLCByZWVudmlhciEnLAoJCQkJCQkJCQljYW5jZWxCdXR0b25UZXh0OiAnQ2FuY2VsYXInLAoJCQkJCQkJCQlzaG93TG9hZGVyT25Db25maXJtOiB0cnVlLAoJCQkJCQkJCQlwcmVDb25maXJtOiAoKSA9PiB7CgoJCQkJCQkJCQkJbGV0IHVzdWFyaW8gPSB7CgkJCQkJCQkJCQkJaWQ6IHJlc3BvbnNlLmRhdGEuaWQKCQkJCQkJCQkJCX0KCQkJCQkJCQkJCXJldHVybiB0aGlzLmF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMICsgJy9yZWVudmlhcl9jb3JyZW8ucGhwJywgdXN1YXJpbykKCQkJCQkJCQkJCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwoJCQkJCQkJCQkJLnRoZW4oKHJlc3BvbnNlKSA9PiB7CgoJCQkJCQkJCQkJCVN3YWwuZmlyZSgKCQkJCQkJCQkJCQkJJ0V4Y2VsZW50ZSEnLAoJCQkJCQkJCQkJCQknPHA+U2UgaGEgZW52aWFkbyB1biBjb3JyZW8gZWxlY3Ryw7NuaWNvIGEgbGEgZGlyZWNjacOzbiByZWdpc3RyYWRhLCBwb3IgZmF2b3IgcmV2aXNlIHN1IGJ1esOzbiB5IHNpZ2EgbGFzIGluc3RydWNjaW9uZXMgaW5kaWNhZGFzIHBhcmEgYWN0aXZhciBzdSBjdWVudGEuPC9wPicsCgkJCQkJCQkJCQkJCSdzdWNjZXNzJwoJCQkJCQkJCQkJCSkKCgkJCQkJCQkJCQl9KQoJCQkJCQkJCQl9LAoJCQkJCQkJCQlhbGxvd091dHNpZGVDbGljazogKCkgPT4gIVN3YWwuaXNMb2FkaW5nKCkKCQkJCQkJCQl9KQoJCQkJCQkJCQoJCQkJCQkJfQoKCQkJCQkJfSkKCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICB9CiAgICAgICAgfSAgICAgICAgCiAgICB9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div >\n        <b-container fluid>\n            <b-row align-h=\"center\" align-v=\"center\" style=\"height: 30vh\">\n                <b-col cols=\"6\" lg=\"2\" md=\"3\" class=\"text-center\">\n                    <b-img center width=\"100\" src=\"./img/logo_das.jpeg\" fluid alt=\"Responsive image\"></b-img>\n                </b-col>\n\n                <b-col cols=\"6\" lg=\"2\" md=\"3\" class=\"text-center\">\n                    <b-img center width=\"150\" src=\"./img/logo.jpg\" fluid alt=\"Responsive image\"></b-img>\n                </b-col>\n            </b-row>\n\n            <b-row style=\"height: 70vh; background-color: #0c3757\">\n\t\t\t\t<b-col cols=\"12\">\n\n                    \n                    <b-form @submit.prevent=\"login\">\n\n                        <h5 class=\"text-center text-white mt-4\">MINISTERIO DE SALUD PÚBLICA Y ASISTENCIA SOCIAL</h5>\n                        <b-row class=\"pt-4 text-center\" align-v=\"center\">\n\n                            <b-col cols=\"12\" sm=\"12\" md=\"4\" offset-md=\"4\">\n                                <b-form-group style=\"color: white\" label=\"Usuario\" label-size=\"lg\">\n                                    <b-form-input type=\"text\" style=\"text-align:center;\" v-model=\"usuario.usuario\" autocomplete=\"off\" size=\"lg\" required></b-form-input>\n                                </b-form-group>\n                            </b-col>\n\n                            <b-col cols=\"12\" v-if=\"loginError\">\n                                \n                                <h4 style=\"color: yellow\">Usuario Inválido !!</h4>\n                            </b-col>\n\n                            <b-col cols=\"12\" class=\"text-center pt-4\">\n                                <b-button variant=\"success\" type=\"submit\" size=\"lg\">ACEPTAR</b-button>\n                            </b-col>\n\n                        </b-row>\n                    </b-form>\n\n                    <b-row class=\"text-center\" style=\"background-color: #0c3757\" align-v=\"end\">\n                        <b-col cols=\"12\">\n                            \n                        </b-col>\n                        <b-col cols=\"12\" class=\"pt-4 text-white text-center\">\n                            <!-- <b-img width=\"200\" src=\"./img/juntoslogramosmas.png\" fluid alt=\"Responsive image\"></b-img> -->\n                            <br>\n                            ¿No tiene cuenta? \n                            <b-button :to=\"{name: 'registro'}\" variant=\"link\"><h4 style=\"color: yellow\">Registrarse</h4></b-button>\n                        </b-col>\n                    </b-row>\n\n\t\t\t\t</b-col>\n            </b-row>\n            \n\n           \n\n        </b-container>\n    </div>\n</template>\n\n\n<script>\n\n    import Swal from 'sweetalert2'\n\n    export default {\n        data(){\n            return{\n                usuario: {},\n                loginError: false\n            }\n        },\n        methods: {\n            login(){\n\n                this.loginError = false\n\n                this.axios.post(process.env.VUE_APP_API_URL + '/login.php', this.usuario)\n\t\t\t\t.then((response) => {\n\n                    if (!response.data) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.loginError = true\n\n                    }else{\n\n\t\t\t\t\t\t// Si el usuario es correcto validar si ya esta activa la cuenta\n\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\tid: response.data.id\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.axios.post(process.env.VUE_APP_API_URL + '/cuenta_verificada.php', data)\n\t\t\t\t\t\t.then((response) => {\n\n\t\t\t\t\t\t\tthis.credentials = response.data\n\n\t\t\t\t\t\t\tif (response.data.verificada) {\n\n\t\t\t\t\t\t\t\tlocalStorage.setItem('usuario-auditoria-transporte', JSON.stringify(this.credentials))\n\n\t\t\t\t\t\t\t\tthis.$router.push({ name: 'menu' })\n\n\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\t\t\t\ttitle: 'Activación de cuenta',\n\t\t\t\t\t\t\t\t\ttext: \"Su cuenta aún no ha sido activada, ¿desea reenviar el correo para activación?\",\n\t\t\t\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\t\t\t\tshowCancelButton: true,\n\t\t\t\t\t\t\t\t\tconfirmButtonColor: '#3085d6',\n\t\t\t\t\t\t\t\t\tcancelButtonColor: '#d33',\n\t\t\t\t\t\t\t\t\tconfirmButtonText: 'Si, reenviar!',\n\t\t\t\t\t\t\t\t\tcancelButtonText: 'Cancelar',\n\t\t\t\t\t\t\t\t\tshowLoaderOnConfirm: true,\n\t\t\t\t\t\t\t\t\tpreConfirm: () => {\n\n\t\t\t\t\t\t\t\t\t\tlet usuario = {\n\t\t\t\t\t\t\t\t\t\t\tid: response.data.id\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn this.axios.post(process.env.VUE_APP_API_URL + '/reenviar_correo.php', usuario)\n\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t\t\t\t\t\t\t.then((response) => {\n\n\t\t\t\t\t\t\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\t\t\t\t\t\t'Excelente!',\n\t\t\t\t\t\t\t\t\t\t\t\t'<p>Se ha enviado un correo electrónico a la dirección registrada, por favor revise su buzón y siga las instrucciones indicadas para activar su cuenta.</p>',\n\t\t\t\t\t\t\t\t\t\t\t\t'success'\n\t\t\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tallowOutsideClick: () => !Swal.isLoading()\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t})\n\n                    }\n\n                })\n\n            }\n        }        \n    }\n</script>"]}]}