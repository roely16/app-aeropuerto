{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/app-transmetro/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/app-transmetro/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/app-transmetro/src/views/Login.vue","mtime":1591376587933},{"path":"/Applications/XAMPP/xamppfiles/htdocs/app-transmetro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/app-transmetro/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/app-transmetro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/app-transmetro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgogICAgaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInCgogICAgZXhwb3J0IGRlZmF1bHQgewogICAgICAgIGRhdGEoKXsKICAgICAgICAgICAgcmV0dXJuewogICAgICAgICAgICAgICAgdXN1YXJpbzoge30sCiAgICAgICAgICAgICAgICBsb2dpbkVycm9yOiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBtZXRob2RzOiB7CiAgICAgICAgICAgIGxvZ2luKCl7CgogICAgICAgICAgICAgICAgdGhpcy5sb2dpbkVycm9yID0gZmFsc2UKCiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMICsgJy9sb2dpbi5waHAnLCB0aGlzLnVzdWFyaW8pCgkJCQkudGhlbigocmVzcG9uc2UpID0+IHsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5kYXRhKSB7CgkJCQkJCQoJCQkJCQl0aGlzLmxvZ2luRXJyb3IgPSB0cnVlCgogICAgICAgICAgICAgICAgICAgIH1lbHNlewoKCQkJCQkJLy8gU2kgZWwgdXN1YXJpbyBlcyBjb3JyZWN0byB2YWxpZGFyIHNpIHlhIGVzdGEgYWN0aXZhIGxhIGN1ZW50YQoKCQkJCQkJbGV0IGRhdGEgPSB7CgkJCQkJCQlpZDogcmVzcG9uc2UuZGF0YS5pZAoJCQkJCQl9CgoJCQkJCQl0aGlzLmF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMICsgJy9jdWVudGFfdmVyaWZpY2FkYS5waHAnLCBkYXRhKQoJCQkJCQkudGhlbigocmVzcG9uc2UpID0+IHsKCgkJCQkJCQl0aGlzLmNyZWRlbnRpYWxzID0gcmVzcG9uc2UuZGF0YQoKCQkJCQkJCWlmIChyZXNwb25zZS5kYXRhLnZlcmlmaWNhZGEpIHsKCgkJCQkJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzdWFyaW8tbW9uaXRvcmVvLWZhc2UyJywgSlNPTi5zdHJpbmdpZnkodGhpcy5jcmVkZW50aWFscykpCgoJCQkJCQkJCXRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ21lbnUnIH0pCgoJCQkJCQkJfWVsc2V7CgoJCQkJCQkJCVN3YWwuZmlyZSh7CgkJCQkJCQkJCXRpdGxlOiAnQWN0aXZhY2nDs24gZGUgY3VlbnRhJywKCQkJCQkJCQkJdGV4dDogIlN1IGN1ZW50YSBhw7puIG5vIGhhIHNpZG8gYWN0aXZhZGEsIMK/ZGVzZWEgcmVlbnZpYXIgZWwgY29ycmVvIHBhcmEgYWN0aXZhY2nDs24/IiwKCQkJCQkJCQkJaWNvbjogJ3dhcm5pbmcnLAoJCQkJCQkJCQlzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAoJCQkJCQkJCQljb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKCQkJCQkJCQkJY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJywKCQkJCQkJCQkJY29uZmlybUJ1dHRvblRleHQ6ICdTaSwgcmVlbnZpYXIhJywKCQkJCQkJCQkJY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbGFyJywKCQkJCQkJCQkJc2hvd0xvYWRlck9uQ29uZmlybTogdHJ1ZSwKCQkJCQkJCQkJcHJlQ29uZmlybTogKCkgPT4gewoKCQkJCQkJCQkJCWxldCB1c3VhcmlvID0gewoJCQkJCQkJCQkJCWlkOiByZXNwb25zZS5kYXRhLmlkCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlyZXR1cm4gdGhpcy5heGlvcy5wb3N0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCArICcvcmVlbnZpYXJfY29ycmVvLnBocCcsIHVzdWFyaW8pCgkJCQkJCQkJCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKCQkJCQkJCQkJCS50aGVuKChyZXNwb25zZSkgPT4gewoKCQkJCQkJCQkJCQlTd2FsLmZpcmUoCgkJCQkJCQkJCQkJCSdFeGNlbGVudGUhJywKCQkJCQkJCQkJCQkJJzxwPlNlIGhhIGVudmlhZG8gdW4gY29ycmVvIGVsZWN0csOzbmljbyBhIGxhIGRpcmVjY2nDs24gcmVnaXN0cmFkYSwgcG9yIGZhdm9yIHJldmlzZSBzdSBidXrDs24geSBzaWdhIGxhcyBpbnN0cnVjY2lvbmVzIGluZGljYWRhcyBwYXJhIGFjdGl2YXIgc3UgY3VlbnRhLjwvcD4nLAoJCQkJCQkJCQkJCQknc3VjY2VzcycKCQkJCQkJCQkJCQkpCgoJCQkJCQkJCQkJfSkKCQkJCQkJCQkJfSwKCQkJCQkJCQkJYWxsb3dPdXRzaWRlQ2xpY2s6ICgpID0+ICFTd2FsLmlzTG9hZGluZygpCgkJCQkJCQkJfSkKCQkJCQkJCQkKCQkJCQkJCX0KCgkJCQkJCX0pCgogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgfQogICAgICAgIH0gICAgICAgIAogICAgfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div style=\"background-image: url('./img/fondoLogin.png'); height: 100vh; background-size:cover\">\n        <b-container >\n            <b-row style=\"height: 30vh\">\n                <b-col cols=\"12\">\n                    <b-img center width=\"200\" src=\"./img/logo_muni_circulo.png\" fluid alt=\"Responsive image\"></b-img>\n                </b-col>\n            </b-row>\n            <b-form style=\"height: 40vh\" @submit.prevent=\"login\">\n                <b-row class=\"text-center\">\n\n                    <b-col cols=\"12\" sm=\"12\" md=\"6\" offset-md=\"3\">\n                        <b-form-group  style=\"color: white\" label=\"Usuario\" label-size=\"lg\">\n                            <b-form-input type=\"text\" style=\"text-align:center;\" v-model=\"usuario.usuario\" autocomplete=\"off\" size=\"lg\" required></b-form-input>\n                        </b-form-group>\n                    </b-col>\n\n                     <b-col cols=\"12\" sm=\"12\" md=\"6\" offset-md=\"3\">\n                        <b-form-group  style=\"color: white\" label=\"Password\" label-size=\"lg\">\n                            <b-form-input type=\"password\" style=\"text-align:center;\" v-model=\"usuario.password\" autocomplete=\"off\" size=\"lg\" required></b-form-input>\n                        </b-form-group>\n                    </b-col>\n\n                    <b-col cols=\"12\" v-if=\"loginError\">\n                        <!-- <b-alert dismissible variant=\"danger\" show>\n                            <h6  class=\"text-center\">Usuario Invalido !!</h6>\n                        </b-alert> -->\n                        <h4 style=\"color: yellow\">Usuario Inválido !!</h4>\n                    </b-col>\n\n                    <b-col cols=\"12\" class=\"text-center pt-4\">\n                        <b-button variant=\"success\" type=\"submit\" size=\"lg\">ACEPTAR</b-button>\n                    </b-col>\n\n                </b-row>\n            </b-form>\n\n            <b-row class=\"text-center\" style=\"height: 30vh\" align-v=\"end\">\n                <b-col cols=\"12\">\n                    \n                </b-col>\n                <b-col cols=\"12\" class=\"pt-4 text-white text-center\">\n                    <b-img width=\"200\" src=\"./img/juntoslogramosmas.png\" fluid alt=\"Responsive image\"></b-img>\n                    <br>\n                    ¿No tiene cuenta? \n                    <b-button :to=\"{name: 'registro'}\" variant=\"link\"><h4 style=\"color: yellow\">Registrarse</h4></b-button>\n                </b-col>\n            </b-row>\n\n        </b-container>\n    </div>\n</template>\n\n<script>\n\n    import Swal from 'sweetalert2'\n\n    export default {\n        data(){\n            return{\n                usuario: {},\n                loginError: false\n            }\n        },\n        methods: {\n            login(){\n\n                this.loginError = false\n\n                this.axios.post(process.env.VUE_APP_API_URL + '/login.php', this.usuario)\n\t\t\t\t.then((response) => {\n\n                    if (!response.data) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.loginError = true\n\n                    }else{\n\n\t\t\t\t\t\t// Si el usuario es correcto validar si ya esta activa la cuenta\n\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\tid: response.data.id\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.axios.post(process.env.VUE_APP_API_URL + '/cuenta_verificada.php', data)\n\t\t\t\t\t\t.then((response) => {\n\n\t\t\t\t\t\t\tthis.credentials = response.data\n\n\t\t\t\t\t\t\tif (response.data.verificada) {\n\n\t\t\t\t\t\t\t\tlocalStorage.setItem('usuario-monitoreo-fase2', JSON.stringify(this.credentials))\n\n\t\t\t\t\t\t\t\tthis.$router.push({ name: 'menu' })\n\n\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\t\t\t\ttitle: 'Activación de cuenta',\n\t\t\t\t\t\t\t\t\ttext: \"Su cuenta aún no ha sido activada, ¿desea reenviar el correo para activación?\",\n\t\t\t\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\t\t\t\tshowCancelButton: true,\n\t\t\t\t\t\t\t\t\tconfirmButtonColor: '#3085d6',\n\t\t\t\t\t\t\t\t\tcancelButtonColor: '#d33',\n\t\t\t\t\t\t\t\t\tconfirmButtonText: 'Si, reenviar!',\n\t\t\t\t\t\t\t\t\tcancelButtonText: 'Cancelar',\n\t\t\t\t\t\t\t\t\tshowLoaderOnConfirm: true,\n\t\t\t\t\t\t\t\t\tpreConfirm: () => {\n\n\t\t\t\t\t\t\t\t\t\tlet usuario = {\n\t\t\t\t\t\t\t\t\t\t\tid: response.data.id\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn this.axios.post(process.env.VUE_APP_API_URL + '/reenviar_correo.php', usuario)\n\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t\t\t\t\t\t\t.then((response) => {\n\n\t\t\t\t\t\t\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\t\t\t\t\t\t'Excelente!',\n\t\t\t\t\t\t\t\t\t\t\t\t'<p>Se ha enviado un correo electrónico a la dirección registrada, por favor revise su buzón y siga las instrucciones indicadas para activar su cuenta.</p>',\n\t\t\t\t\t\t\t\t\t\t\t\t'success'\n\t\t\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tallowOutsideClick: () => !Swal.isLoading()\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t})\n\n                    }\n\n                })\n\n            }\n        }        \n    }\n</script>"]}]}