{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/apps/app-transmetro/node_modules/babel-loader/lib/index.js!/Applications/XAMPP/xamppfiles/htdocs/apps/app-transmetro/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Applications/XAMPP/xamppfiles/htdocs/apps/app-transmetro/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/apps/app-transmetro/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/apps/app-transmetro/src/views/Login.vue","mtime":1598539166649},{"path":"/Applications/XAMPP/xamppfiles/htdocs/apps/app-transmetro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/apps/app-transmetro/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/apps/app-transmetro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/apps/app-transmetro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzdWFyaW86IHt9LAogICAgICBsb2dpbkVycm9yOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9naW5FcnJvciA9IGZhbHNlOwogICAgICB0aGlzLmF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMICsgJy9sb2dpbi5waHAnLCB0aGlzLnVzdWFyaW8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKCFyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICBfdGhpcy5sb2dpbkVycm9yID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gU2kgZWwgdXN1YXJpbyBlcyBjb3JyZWN0byB2YWxpZGFyIHNpIHlhIGVzdGEgYWN0aXZhIGxhIGN1ZW50YQogICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgIGlkOiByZXNwb25zZS5kYXRhLmlkCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzLmF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMICsgJy9jdWVudGFfdmVyaWZpY2FkYS5waHAnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpcy5jcmVkZW50aWFscyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS52ZXJpZmljYWRhKSB7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzdWFyaW8tYXVkaXRvcmlhLXRyYW5zcG9ydGUnLCBKU09OLnN0cmluZ2lmeShfdGhpcy5jcmVkZW50aWFscykpOwoKICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogJ21lbnUnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnQWN0aXZhY2nDs24gZGUgY3VlbnRhJywKICAgICAgICAgICAgICAgIHRleHQ6ICJTdSBjdWVudGEgYcO6biBubyBoYSBzaWRvIGFjdGl2YWRhLCDCv2Rlc2VhIHJlZW52aWFyIGVsIGNvcnJlbyBwYXJhIGFjdGl2YWNpw7NuPyIsCiAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdTaSwgcmVlbnZpYXIhJywKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWxhcicsCiAgICAgICAgICAgICAgICBzaG93TG9hZGVyT25Db25maXJtOiB0cnVlLAogICAgICAgICAgICAgICAgcHJlQ29uZmlybTogZnVuY3Rpb24gcHJlQ29uZmlybSgpIHsKICAgICAgICAgICAgICAgICAgdmFyIHVzdWFyaW8gPSB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmRhdGEuaWQKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMICsgJy9yZWVudmlhcl9jb3JyZW8ucGhwJywgdXN1YXJpbykgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgnRXhjZWxlbnRlIScsICc8cD5TZSBoYSBlbnZpYWRvIHVuIGNvcnJlbyBlbGVjdHLDs25pY28gYSBsYSBkaXJlY2Npw7NuIHJlZ2lzdHJhZGEsIHBvciBmYXZvciByZXZpc2Ugc3UgYnV6w7NuIHkgc2lnYSBsYXMgaW5zdHJ1Y2Npb25lcyBpbmRpY2FkYXMgcGFyYSBhY3RpdmFyIHN1IGN1ZW50YS48L3A+JywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZ1bmN0aW9uIGFsbG93T3V0c2lkZUNsaWNrKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gIVN3YWwuaXNMb2FkaW5nKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,OAAA,IAAA,MAAA,aAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AAEA,WAAA,UAAA,GAAA,KAAA;AAEA,WAAA,KAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAAA,CAAA,eAAA,GAAA,YAAA,EAAA,KAAA,OAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AAEA,YAAA,CAAA,QAAA,CAAA,IAAA,EAAA;AAEA,UAAA,KAAA,CAAA,UAAA,GAAA,IAAA;AAEA,SAJA,MAIA;AAEA;AAEA,cAAA,IAAA,GAAA;AACA,YAAA,EAAA,EAAA,QAAA,CAAA,IAAA,CAAA;AADA,WAAA;;AAIA,UAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAAA,CAAA,eAAA,GAAA,wBAAA,EAAA,IAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AAEA,YAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,IAAA;;AAEA,gBAAA,QAAA,CAAA,IAAA,CAAA,UAAA,EAAA;AAEA,cAAA,YAAA,CAAA,OAAA,CAAA,8BAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,WAAA,CAAA;;AAEA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA;AAEA,aANA,MAMA;AAEA,cAAA,IAAA,CAAA,IAAA,CAAA;AACA,gBAAA,KAAA,EAAA,sBADA;AAEA,gBAAA,IAAA,EAAA,+EAFA;AAGA,gBAAA,IAAA,EAAA,SAHA;AAIA,gBAAA,gBAAA,EAAA,IAJA;AAKA,gBAAA,kBAAA,EAAA,SALA;AAMA,gBAAA,iBAAA,EAAA,MANA;AAOA,gBAAA,iBAAA,EAAA,eAPA;AAQA,gBAAA,gBAAA,EAAA,UARA;AASA,gBAAA,mBAAA,EAAA,IATA;AAUA,gBAAA,UAAA,EAAA,sBAAA;AAEA,sBAAA,OAAA,GAAA;AACA,oBAAA,EAAA,EAAA,QAAA,CAAA,IAAA,CAAA;AADA,mBAAA;AAGA,yBAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAAA,CAAA,eAAA,GAAA,sBAAA,EAAA,OAAA,EACA;AADA,mBAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AAEA,oBAAA,IAAA,CAAA,IAAA,CACA,YADA,EAEA,4JAFA,EAGA,SAHA;AAMA,mBAVA,CAAA;AAWA,iBA1BA;AA2BA,gBAAA,iBAAA,EAAA;AAAA,yBAAA,CAAA,IAAA,CAAA,SAAA,EAAA;AAAA;AA3BA,eAAA;AA8BA;AAEA,WA7CA;AA+CA;AAEA,OAhEA;AAkEA;AAvEA;AAPA,CAAA","sourcesContent":["<template>\n    <div style=\"background-image: url('./img/fondoLogin.png'); height: 100vh; background-size:cover;\">\n        <b-container >\n            <b-row align-h=\"center\" style=\"height: 40vh\">\n                <b-col sm=\"6\" lg=\"6\" md=\"6\">\n                    <b-img center width=\"200\" src=\"./img/logo_muni_circulo.png\" fluid alt=\"Responsive image\"></b-img>\n                </b-col>\n            </b-row>\n            <b-form style=\"height: 30vh\" @submit.prevent=\"login\">\n                <b-row class=\"text-center\">\n\n                    <b-col cols=\"12\" sm=\"12\" md=\"6\" offset-md=\"3\">\n                        <b-form-group style=\"color: white\" label=\"Usuario\" label-size=\"lg\">\n                            <b-form-input type=\"text\" style=\"text-align:center;\" v-model=\"usuario.usuario\" autocomplete=\"off\" size=\"lg\" required></b-form-input>\n                        </b-form-group>\n                    </b-col>\n\n                    <b-col cols=\"12\" v-if=\"loginError\">\n                        \n                        <h4 style=\"color: yellow\">Usuario Inválido !!</h4>\n                    </b-col>\n\n                    <b-col cols=\"12\" class=\"text-center pt-4\">\n                        <b-button variant=\"success\" type=\"submit\" size=\"lg\">ACEPTAR</b-button>\n                    </b-col>\n\n                </b-row>\n            </b-form>\n\n            <b-row class=\"text-center\" style=\"height: 30vh\" align-v=\"end\">\n                <b-col cols=\"12\">\n                    \n                </b-col>\n                <b-col cols=\"12\" class=\"pt-4 text-white text-center\">\n                    <b-img width=\"200\" src=\"./img/juntoslogramosmas.png\" fluid alt=\"Responsive image\"></b-img>\n                    <br>\n                    ¿No tiene cuenta? \n                    <b-button :to=\"{name: 'registro'}\" variant=\"link\"><h4 style=\"color: yellow\">Registrarse</h4></b-button>\n                </b-col>\n            </b-row>\n\n        </b-container>\n    </div>\n</template>\n\n\n<script>\n\n    import Swal from 'sweetalert2'\n\n    export default {\n        data(){\n            return{\n                usuario: {},\n                loginError: false\n            }\n        },\n        methods: {\n            login(){\n\n                this.loginError = false\n\n                this.axios.post(process.env.VUE_APP_API_URL + '/login.php', this.usuario)\n\t\t\t\t.then((response) => {\n\n                    if (!response.data) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.loginError = true\n\n                    }else{\n\n\t\t\t\t\t\t// Si el usuario es correcto validar si ya esta activa la cuenta\n\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\tid: response.data.id\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.axios.post(process.env.VUE_APP_API_URL + '/cuenta_verificada.php', data)\n\t\t\t\t\t\t.then((response) => {\n\n\t\t\t\t\t\t\tthis.credentials = response.data\n\n\t\t\t\t\t\t\tif (response.data.verificada) {\n\n\t\t\t\t\t\t\t\tlocalStorage.setItem('usuario-auditoria-transporte', JSON.stringify(this.credentials))\n\n\t\t\t\t\t\t\t\tthis.$router.push({ name: 'menu' })\n\n\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\t\t\t\ttitle: 'Activación de cuenta',\n\t\t\t\t\t\t\t\t\ttext: \"Su cuenta aún no ha sido activada, ¿desea reenviar el correo para activación?\",\n\t\t\t\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\t\t\t\tshowCancelButton: true,\n\t\t\t\t\t\t\t\t\tconfirmButtonColor: '#3085d6',\n\t\t\t\t\t\t\t\t\tcancelButtonColor: '#d33',\n\t\t\t\t\t\t\t\t\tconfirmButtonText: 'Si, reenviar!',\n\t\t\t\t\t\t\t\t\tcancelButtonText: 'Cancelar',\n\t\t\t\t\t\t\t\t\tshowLoaderOnConfirm: true,\n\t\t\t\t\t\t\t\t\tpreConfirm: () => {\n\n\t\t\t\t\t\t\t\t\t\tlet usuario = {\n\t\t\t\t\t\t\t\t\t\t\tid: response.data.id\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn this.axios.post(process.env.VUE_APP_API_URL + '/reenviar_correo.php', usuario)\n\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t\t\t\t\t\t\t.then((response) => {\n\n\t\t\t\t\t\t\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\t\t\t\t\t\t'Excelente!',\n\t\t\t\t\t\t\t\t\t\t\t\t'<p>Se ha enviado un correo electrónico a la dirección registrada, por favor revise su buzón y siga las instrucciones indicadas para activar su cuenta.</p>',\n\t\t\t\t\t\t\t\t\t\t\t\t'success'\n\t\t\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tallowOutsideClick: () => !Swal.isLoading()\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t})\n\n                    }\n\n                })\n\n            }\n        }        \n    }\n</script>"],"sourceRoot":"src/views"}]}